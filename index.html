<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>scuttlesref</title>
<link rel="stylesheet" href="css/style.css?v=9">
</head>
<body>

<!-- NAV -->
<nav class="navbar">
  <div class="nav-item active" onclick="nav('library')" id="nav-library"><svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7" rx="1.5"/><rect x="14" y="3" width="7" height="7" rx="1.5"/><rect x="3" y="14" width="7" height="7" rx="1.5"/><rect x="14" y="14" width="7" height="7" rx="1.5"/></svg>Library</div>
  <div class="nav-item" onclick="nav('test')" id="nav-test"><svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M8 3H5a2 2 0 00-2 2v3"/><path d="M21 8V5a2 2 0 00-2-2h-3"/><path d="M3 16v3a2 2 0 002 2h3"/><path d="M16 21h3a2 2 0 002-2v-3"/><circle cx="12" cy="12" r="3"/></svg>Compare</div>
  <div class="nav-item" onclick="nav('history')" id="nav-history"><svg class="nav-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>History</div>
</nav>

<!-- MODAL -->
<div class="modal-overlay" id="overlay" onclick="if(event.target===this)closeModal()">
  <div class="modal-sheet" id="sheet">
    <div class="modal-handle"></div>
    <div class="modal-close"><button onclick="closeModal()">✕</button></div>
    <div class="modal-gallery" id="mGallery"></div>
    <div class="modal-content" id="mContent"></div>
  </div>
</div>

<!-- LIBRARY -->
<div class="screen active" id="screen-library">
  <div class="hero">
    <div class="hero-label">scuttlesref</div>
    <h1>Find your <span>style.</span><br>Copy the code.</h1>
    <p>A curated collection of style reference codes for Midjourney, Stable Diffusion, Flux & DALL·E.</p>
  </div>
  <div class="stats-row">
    <div class="stat-item"><div class="stat-num" id="sN">0</div><div class="stat-label">Styles</div></div>
    <div class="stat-item"><div class="stat-num">4</div><div class="stat-label">Engines</div></div>
    <div class="stat-item"><div class="stat-num" id="sT">0</div><div class="stat-label">Tags</div></div>
  </div>
  <div class="search-section">
    <div class="search-wrap">
      <span class="search-glyph">⌕</span>
      <input type="text" id="q" placeholder="Search styles, tags, codes..." oninput="render()">
    </div>
  </div>
  <div class="filters" id="filters"></div>
  <div class="grid-container">
    <div id="creators"></div>
    <div class="style-grid" id="grid"></div>
  </div>
</div>

<!-- A/B TEST -->
<div class="screen" id="screen-test">
  <div class="hero">
    <div class="hero-label">Visual Taste Profiler</div>
    <h1>Discover your <span>taste.</span></h1>
    <p>Can't describe your style? Pick between images and we'll figure it out.</p>
  </div>
  <div class="dept-section" id="depts"></div>
</div>

<!-- ARENA -->
<div class="screen" id="screen-arena">
  <div class="arena-wrap">
    <div class="arena-top">
      <h2 id="arenaTitle"></h2>
      <div class="sub" id="arenaSub"></div>
      <div class="arena-counters">
        <span><b id="sC">0</b> this session</span>
        <span class="dot">·</span>
        <span><b id="tC">0</b>/200 total</span>
      </div>
      <div class="arena-bar"><div class="arena-bar-fill" id="pF" style="width:0%"></div></div>
    </div>
    <div class="arena-cards">
      <div class="arena-card" onclick="pick('A')"><img id="imgA" src="" alt="A"></div>
      <div class="arena-vs">VS</div>
      <div class="arena-card" onclick="pick('B')"><img id="imgB" src="" alt="B"></div>
    </div>
    <div class="arena-btns">
      <button class="btn-pick-a" onclick="pick('A')">← A</button>
      <button class="btn-pick-both" onclick="pick('both')">Both ♥</button>
      <button class="btn-pick-skip" onclick="pick('skip')">Skip</button>
      <button class="btn-pick-b" onclick="pick('B')">B →</button>
    </div>
    <button class="arena-finish" onclick="finish()">Finish Session →</button>
    <div class="arena-keys">← A · → B · ↑ Both · ↓ Skip · Z Undo · Esc Finish</div>
    <button class="undo-btn hidden" id="undoBtn" onclick="undo()">↩ Undo</button>
  </div>
</div>

<!-- RESULTS -->
<div class="screen" id="screen-results">
  <div class="results-section">
    <h2 id="resTitle">Style DNA</h2>
    <div id="saveStatus"></div>
    <p style="color:var(--text-3);font-size:13px;margin-top:16px;">Picks</p>
    <div class="results-grid winners" id="wG"></div>
    <p style="color:var(--text-3);font-size:13px;margin-top:8px;opacity:0.5;">Rejected</p>
    <div class="results-grid losers" id="lG"></div>
    <div class="results-data" id="resData"></div>
    <div class="results-done" id="doneW">
      <button onclick="submitToLux()">Done — Send to Lux</button>
    </div>
    <div class="results-actions">
      <button onclick="nav('test')">Home</button>
      <button onclick="copyRes()">Copy</button>
      <button onclick="startBoard(cD,cB)">Redo</button>
    </div>
  </div>
</div>

<!-- HISTORY -->
<div class="screen" id="screen-history">
  <div class="hero">
    <div class="hero-label">Your Journey</div>
    <h1>Rating <span>history.</span></h1>
    <p>Track your taste evolution over time.</p>
  </div>
  <div class="history-section" id="hList"></div>
</div>

<script src="js/data.js?v=9"></script>
<script src="js/library.js?v=9"></script>
<script src="js/compare.js?v=9"></script>
<script src="js/history.js?v=9"></script>
<script src="js/nav.js?v=9"></script>
</body>
</html>
